# v1.28.1 (Patch Release)

<!-- alex-c-line-start-release-status -->
**Status**: In progress
<!-- alex-c-line-end-release-status -->

<!-- alex-c-line-start-release-summary -->
This is a new patch release of the `alex-c-line` package. It fixes issues with the package and should require no refactoring. Please read the description of changes below.
<!-- alex-c-line-end-release-summary -->

## Description of Changes

- Remove main, module, and types from `package.json`.
    - They are not needed anymore - we should be using `.bin` and `exports` instead.
- Add `sideEffects` property.
    - This entire tool is pretty much a side-effect, so it has been marked as one. This follows from a [recent update to my ESLint plugin](https://github.com/alextheman231/eslint-plugin/releases/tag/v5.8.0).
- Disable update notifications in test/CI environments.
    - This reduces the risk of the update notifications potentially causing flaky automation issues.

## Additional Notes

- I also added an end-to-end test to this repository as well.
- It actually feels very much at home here given that the end-to-end tests generally use the same sort of tooling that `alex-c-line` does (i.e. Execa, fs, tempy...)
- It also caught a very interesting thing that I didn't actually know about until today. That is, if you try running a `package.json` script without having installed all dependencies first, it actually will fall back to whatever is on your `PATH` environment variable, and only if it doesn't exist there does it error.
- I guess it does make sense as `package.json` does need access to your shared CLI context, and that can involve globally-installed CLI tools you have, but it still admittedly threw me off when I removed the `.bin` property in `package.json` to deliberately get the test to fail, only to find that only some of the tests failed in ways that I did not expect them to.
- I wonder if it could be possible for them to maybe include a `strictDependencies` option or something like that, where, for any scripts that invoke one of the dependencies `.bin`, if it can't find the locally installed one it actually throws an error? I imagine it'd probably be a bit too fiddly, though, and open itself up to false positives a lot of the time, though.
- But yeah, now I know, and now you lot reading this note know as well. Moral of the story: be extra careful with package scripts - just because you didn't run install doesn't mean your scripts will always fail!
